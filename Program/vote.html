<!DOCTYPE html>

<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Choice Vote - íˆ¬í‘œ ì‹œìŠ¤í…œ</title>
    <link href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Noto+Sans+KR:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    :root {
        --option-a-color: #6366f1;
        --option-a-light: #818cf8;
        --option-a-glow: rgba(99, 102, 241, 0.3);
        --option-b-color: #ec4899;
        --option-b-light: #f472b6;
        --option-b-glow: rgba(236, 72, 153, 0.3);
        --bg-dark: #0a0a0f;
        --bg-card: #16161f;
        --bg-sidebar: #111118;
        --text-primary: #ffffff;
        --text-secondary: #a0a0b0;
        --border-color: rgba(255,255,255,0.08);
        --like-color: #ef4444;
        --star-color: #fbbf24;
    }

    body {
        font-family: 'Noto Sans KR', sans-serif;
        background: var(--bg-dark);
        color: var(--text-primary);
        min-height: 100vh;
        overflow: hidden;
    }

    /* Main Layout */
    .app-container {
        display: flex;
        height: 100vh;
    }

    /* Sidebar */
    .sidebar {
        width: 280px;
        background: var(--bg-sidebar);
        border-right: 1px solid var(--border-color);
        display: flex;
        flex-direction: column;
        flex-shrink: 0;
    }

    .sidebar-header {
        padding: 20px;
        border-bottom: 1px solid var(--border-color);
    }

    .sidebar-header h1 {
        font-family: 'Black Han Sans', sans-serif;
        font-size: 1.4rem;
        background: linear-gradient(135deg, var(--option-a-light), var(--option-b-light));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 15px;
    }

    .btn-new-vote {
        width: 100%;
        padding: 12px;
        background: linear-gradient(135deg, var(--option-a-color), var(--option-b-color));
        border: none;
        border-radius: 10px;
        color: white;
        font-size: 0.95rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }

    .btn-new-vote:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(99, 102, 241, 0.4);
    }

    .vote-list {
        flex: 1;
        overflow-y: auto;
        padding: 10px;
    }

    .vote-list-item {
        padding: 15px;
        background: var(--bg-card);
        border-radius: 12px;
        margin-bottom: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
    }

    .vote-list-item:hover {
        border-color: var(--option-a-color);
    }

    .vote-list-item.active {
        border-color: var(--option-a-light);
        background: rgba(99, 102, 241, 0.1);
    }

    .vote-list-title {
        font-weight: 600;
        font-size: 0.95rem;
        margin-bottom: 8px;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .vote-list-options {
        display: flex;
        gap: 8px;
        font-size: 0.75rem;
        color: var(--text-secondary);
    }

    .vote-list-options span {
        padding: 3px 8px;
        background: rgba(255,255,255,0.05);
        border-radius: 4px;
    }

    .vote-list-stats {
        display: flex;
        justify-content: space-between;
        margin-top: 10px;
        font-size: 0.75rem;
        color: var(--text-secondary);
    }

    .empty-list {
        text-align: center;
        padding: 40px 20px;
        color: var(--text-secondary);
    }

    .empty-list-icon {
        font-size: 3rem;
        margin-bottom: 15px;
        opacity: 0.5;
    }

    /* Main Content */
    .main-content {
        flex: 1;
        overflow-y: auto;
        padding: 25px;
    }

    .content-wrapper {
        max-width: 900px;
        margin: 0 auto;
    }

    /* Vote Header */
    .vote-header {
        text-align: center;
        margin-bottom: 25px;
    }

    .vote-question {
        font-family: 'Black Han Sans', sans-serif;
        font-size: clamp(1.5rem, 4vw, 2rem);
        margin-bottom: 10px;
        color: var(--text-primary);
    }

    .vote-date {
        font-size: 0.85rem;
        color: var(--text-secondary);
    }

    /* Vote Cards */
    .vote-cards-wrapper {
        position: relative;
        margin-bottom: 25px;
    }

    .vote-cards {
        display: flex;
        gap: 15px;
    }

    .vote-card {
        flex: 1;
        background: var(--bg-card);
        border-radius: 16px;
        padding: 25px 20px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease;
        border: 2px solid transparent;
    }

    .vote-card.option-a:hover {
        border-color: var(--option-a-color);
        transform: translateY(-3px);
    }

    .vote-card.option-b:hover {
        border-color: var(--option-b-color);
        transform: translateY(-3px);
    }

    .vote-card-icon {
        font-size: 3.5rem;
        margin-bottom: 12px;
        display: block;
    }

    .vote-card-title {
        font-family: 'Black Han Sans', sans-serif;
        font-size: 1.5rem;
        margin-bottom: 15px;
    }

    .vote-card.option-a .vote-card-title {
        color: var(--option-a-light);
    }

    .vote-card.option-b .vote-card-title {
        color: var(--option-b-light);
    }

    .vote-card-count {
        font-size: 2.5rem;
        font-weight: 700;
        line-height: 1;
    }

    .vote-card.option-a .vote-card-count {
        color: var(--option-a-light);
    }

    .vote-card.option-b .vote-card-count {
        color: var(--option-b-light);
    }

    .vote-card-percent {
        font-size: 1rem;
        color: var(--text-secondary);
        margin-top: 5px;
    }

    .vote-card-hint {
        font-size: 0.75rem;
        color: var(--text-secondary);
        margin-top: 12px;
        opacity: 0.7;
    }

    .vs-badge {
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, var(--option-a-color), var(--option-b-color));
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-family: 'Black Han Sans', sans-serif;
        font-size: 1rem;
        color: white;
        z-index: 10;
        box-shadow: 0 4px 20px rgba(0,0,0,0.5);
    }

    /* Progress Bar */
    .progress-section {
        margin-bottom: 30px;
    }

    .progress-bar {
        height: 40px;
        background: var(--bg-card);
        border-radius: 20px;
        overflow: hidden;
        display: flex;
    }

    .progress-fill {
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        font-size: 0.9rem;
        transition: width 0.5s ease;
    }

    .progress-fill.option-a {
        background: linear-gradient(90deg, var(--option-a-color), var(--option-a-light));
    }

    .progress-fill.option-b {
        background: linear-gradient(90deg, var(--option-b-light), var(--option-b-color));
    }

    .total-votes {
        text-align: center;
        margin-top: 12px;
        color: var(--text-secondary);
        font-size: 0.9rem;
    }

    /* Comments Section */
    .comments-section {
        display: flex;
        gap: 20px;
    }

    .comments-column {
        flex: 1;
        background: var(--bg-card);
        border-radius: 16px;
        padding: 20px;
        min-height: 300px;
    }

    .comments-column.option-a {
        border-top: 3px solid var(--option-a-color);
    }

    .comments-column.option-b {
        border-top: 3px solid var(--option-b-color);
    }

    .comments-header {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-bottom: 15px;
        padding-bottom: 12px;
        border-bottom: 1px solid var(--border-color);
    }

    .comments-header-icon {
        font-size: 1.5rem;
    }

    .comments-header-title {
        font-family: 'Black Han Sans', sans-serif;
        font-size: 1.1rem;
    }

    .comments-column.option-a .comments-header-title {
        color: var(--option-a-light);
    }

    .comments-column.option-b .comments-header-title {
        color: var(--option-b-light);
    }

    .comments-header-count {
        margin-left: auto;
        font-size: 0.85rem;
        color: var(--text-secondary);
    }

    .comments-list {
        max-height: 400px;
        overflow-y: auto;
    }

    /* Comment Item - ì—…ê·¸ë ˆì´ë“œ */
    .comment-item {
        padding: 15px;
        background: rgba(255,255,255,0.03);
        border-radius: 12px;
        margin-bottom: 12px;
        transition: all 0.2s ease;
    }

    .comment-item:hover {
        background: rgba(255,255,255,0.05);
    }

    .comment-item:last-child {
        margin-bottom: 0;
    }

    .comment-header {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 10px;
    }

    /* í”„ë¡œí•„ ì•„ë°”íƒ€ */
    .comment-avatar {
        width: 42px;
        height: 42px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.3rem;
        flex-shrink: 0;
        position: relative;
        overflow: hidden;
    }

    .comment-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
    }

    .comments-column.option-a .comment-avatar {
        background: linear-gradient(135deg, var(--option-a-color), var(--option-a-light));
    }

    .comments-column.option-b .comment-avatar {
        background: linear-gradient(135deg, var(--option-b-color), var(--option-b-light));
    }

    .comment-info {
        flex: 1;
        min-width: 0;
    }

    .comment-name {
        font-weight: 600;
        font-size: 0.95rem;
        margin-bottom: 2px;
    }

    .comments-column.option-a .comment-name {
        color: var(--option-a-light);
    }

    .comments-column.option-b .comment-name {
        color: var(--option-b-light);
    }

    .comment-date {
        font-size: 0.75rem;
        color: var(--text-secondary);
        opacity: 0.7;
    }

    .comment-text {
        font-size: 0.9rem;
        color: var(--text-secondary);
        margin-bottom: 12px;
        line-height: 1.5;
    }

    /* ì¢‹ì•„ìš” & ë³„ì  ì˜ì—­ */
    .comment-actions {
        display: flex;
        align-items: center;
        gap: 20px;
        padding-top: 10px;
        border-top: 1px solid rgba(255,255,255,0.05);
    }

    /* ì¢‹ì•„ìš” ë²„íŠ¼ */
    .like-btn {
        display: flex;
        align-items: center;
        gap: 6px;
        background: none;
        border: none;
        color: var(--text-secondary);
        font-size: 0.85rem;
        cursor: pointer;
        padding: 6px 12px;
        border-radius: 20px;
        transition: all 0.2s ease;
    }

    .like-btn:hover {
        background: rgba(239, 68, 68, 0.1);
        color: var(--like-color);
    }

    .like-btn.liked {
        color: var(--like-color);
    }

    .like-btn .like-icon {
        font-size: 1.1rem;
        transition: transform 0.2s ease;
    }

    .like-btn:hover .like-icon,
    .like-btn.liked .like-icon {
        transform: scale(1.2);
    }

    /* ë³„ì  */
    .rating-section {
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .rating-label {
        font-size: 0.8rem;
        color: var(--text-secondary);
    }

    .star-rating {
        display: flex;
        gap: 2px;
    }

    .star-btn {
        background: none;
        border: none;
        font-size: 1.1rem;
        cursor: pointer;
        padding: 2px;
        transition: all 0.15s ease;
        color: rgba(255,255,255,0.2);
    }

    .star-btn:hover {
        transform: scale(1.2);
    }

    .star-btn.filled {
        color: var(--star-color);
    }

    .avg-rating {
        font-size: 0.8rem;
        color: var(--star-color);
        margin-left: 5px;
        font-weight: 600;
    }

    .empty-comments {
        text-align: center;
        padding: 40px 20px;
        color: var(--text-secondary);
        font-size: 0.9rem;
    }

    /* Welcome Screen */
    .welcome-screen {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100%;
        text-align: center;
        padding: 40px;
    }

    .welcome-icon {
        font-size: 5rem;
        margin-bottom: 20px;
    }

    .welcome-title {
        font-family: 'Black Han Sans', sans-serif;
        font-size: 2rem;
        margin-bottom: 15px;
        background: linear-gradient(135deg, var(--option-a-light), var(--option-b-light));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .welcome-text {
        color: var(--text-secondary);
        font-size: 1rem;
        margin-bottom: 30px;
    }

    /* Modal */
    .modal-overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0,0,0,0.85);
        z-index: 1000;
        align-items: center;
        justify-content: center;
        padding: 20px;
    }

    .modal-overlay.active {
        display: flex;
    }

    .modal {
        background: var(--bg-card);
        border-radius: 20px;
        padding: 30px;
        width: 100%;
        max-width: 450px;
        animation: modalIn 0.3s ease;
    }

    @keyframes modalIn {
        from {
            opacity: 0;
            transform: scale(0.9) translateY(20px);
        }
        to {
            opacity: 1;
            transform: scale(1) translateY(0);
        }
    }

    .modal-header {
        text-align: center;
        margin-bottom: 25px;
    }

    .modal-icon {
        font-size: 3.5rem;
        margin-bottom: 10px;
    }

    .modal-title {
        font-family: 'Black Han Sans', sans-serif;
        font-size: 1.4rem;
    }

    .modal.option-a .modal-title {
        color: var(--option-a-light);
    }

    .modal.option-b .modal-title {
        color: var(--option-b-light);
    }

    .modal.new-vote .modal-title {
        background: linear-gradient(135deg, var(--option-a-light), var(--option-b-light));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .form-group {
        margin-bottom: 18px;
    }

    .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
        color: var(--text-secondary);
        font-size: 0.9rem;
    }

    .form-group input,
    .form-group textarea {
        width: 100%;
        padding: 14px;
        border: 2px solid rgba(255,255,255,0.1);
        border-radius: 12px;
        background: rgba(255,255,255,0.05);
        color: var(--text-primary);
        font-size: 1rem;
        font-family: inherit;
        transition: border-color 0.3s ease;
    }

    .form-group input:focus,
    .form-group textarea:focus {
        outline: none;
        border-color: rgba(255,255,255,0.3);
    }

    .form-group textarea {
        resize: none;
        height: 70px;
    }

    .form-row {
        display: flex;
        gap: 12px;
    }

    .form-row .form-group {
        flex: 1;
    }

    .emoji-picker {
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
    }

    .emoji-btn {
        width: 40px;
        height: 40px;
        border: 2px solid rgba(255,255,255,0.1);
        border-radius: 10px;
        background: rgba(255,255,255,0.05);
        font-size: 1.3rem;
        cursor: pointer;
        transition: all 0.2s ease;
    }

    .emoji-btn:hover {
        border-color: rgba(255,255,255,0.3);
    }

    .emoji-btn.selected {
        border-color: var(--option-a-light);
        background: rgba(99, 102, 241, 0.2);
    }

    /* ì•„ë°”íƒ€ ì„ íƒ */
    .avatar-picker {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
    }

    .avatar-btn {
        width: 45px;
        height: 45px;
        border: 2px solid rgba(255,255,255,0.1);
        border-radius: 50%;
        background: rgba(255,255,255,0.05);
        font-size: 1.4rem;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .avatar-btn:hover {
        border-color: rgba(255,255,255,0.3);
        transform: scale(1.1);
    }

    .avatar-btn.selected {
        border-color: var(--option-a-light);
        background: rgba(99, 102, 241, 0.2);
        transform: scale(1.1);
    }

    .modal-buttons {
        display: flex;
        gap: 12px;
        margin-top: 25px;
    }

    .btn {
        flex: 1;
        padding: 14px;
        border: none;
        border-radius: 12px;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .btn-cancel {
        background: rgba(255,255,255,0.1);
        color: var(--text-secondary);
    }

    .btn-cancel:hover {
        background: rgba(255,255,255,0.15);
    }

    .btn-submit {
        color: white;
    }

    .modal.option-a .btn-submit {
        background: linear-gradient(135deg, var(--option-a-color), var(--option-a-light));
    }

    .modal.option-b .btn-submit {
        background: linear-gradient(135deg, var(--option-b-color), var(--option-b-light));
    }

    .modal.new-vote .btn-submit {
        background: linear-gradient(135deg, var(--option-a-color), var(--option-b-color));
    }

    .btn-submit:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(0,0,0,0.3);
    }

    .btn-delete {
        background: rgba(220, 38, 38, 0.2);
        color: #ef4444;
    }

    .btn-delete:hover {
        background: rgba(220, 38, 38, 0.3);
    }

    /* Mobile Toggle */
    .mobile-toggle {
        display: none;
        position: fixed;
        bottom: 20px;
        left: 20px;
        width: 56px;
        height: 56px;
        background: linear-gradient(135deg, var(--option-a-color), var(--option-b-color));
        border: none;
        border-radius: 50%;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        z-index: 100;
        box-shadow: 0 4px 20px rgba(0,0,0,0.4);
    }

    /* Scrollbar */
    ::-webkit-scrollbar {
        width: 6px;
    }

    ::-webkit-scrollbar-track {
        background: transparent;
    }

    ::-webkit-scrollbar-thumb {
        background: rgba(255,255,255,0.2);
        border-radius: 3px;
    }

    /* Responsive */
    @media (max-width: 768px) {
        .sidebar {
            position: fixed;
            left: -280px;
            top: 0;
            bottom: 0;
            z-index: 200;
            transition: left 0.3s ease;
        }

        .sidebar.open {
            left: 0;
        }

        .sidebar-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 150;
        }

        .sidebar-backdrop.open {
            display: block;
        }

        .mobile-toggle {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .main-content {
            padding: 20px 15px;
        }

        .vote-cards {
            flex-direction: row;
            gap: 10px;
        }

        .vote-card {
            padding: 20px 15px;
        }

        .vote-card-icon {
            font-size: 2.5rem;
        }

        .vote-card-title {
            font-size: 1.2rem;
        }

        .vote-card-count {
            font-size: 2rem;
        }

        .comments-section {
            flex-direction: column;
        }

        .comments-column {
            min-height: 200px;
        }

        .comment-actions {
            flex-wrap: wrap;
            gap: 10px;
        }
    }

    /* ì• ë‹ˆë©”ì´ì…˜ */
    @keyframes likePopUp {
        0% { transform: scale(1); }
        50% { transform: scale(1.4); }
        100% { transform: scale(1); }
    }

    .like-btn.animate .like-icon {
        animation: likePopUp 0.3s ease;
    }

    @keyframes starFill {
        0% { transform: scale(1); }
        50% { transform: scale(1.3); }
        100% { transform: scale(1); }
    }

    .star-btn.animate {
        animation: starFill 0.2s ease;
    }
</style>
```

</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h1>ğŸ—³ï¸ Choice Vote</h1>
                <button class="btn-new-vote" id="btn-new-vote">
                    <span>â•</span> ì‹ ê·œ íˆ¬í‘œ ë§Œë“¤ê¸°
                </button>
            </div>
            <div class="vote-list" id="vote-list"></div>
        </aside>

```
    <!-- Mobile Backdrop -->
    <div class="sidebar-backdrop" id="sidebar-backdrop"></div>

    <!-- Main Content -->
    <main class="main-content" id="main-content"></main>

    <!-- Mobile Toggle Button -->
    <button class="mobile-toggle" id="mobile-toggle">ğŸ“‹</button>
</div>

<!-- Vote Modal -->
<div class="modal-overlay" id="vote-modal-overlay">
    <div class="modal" id="vote-modal">
        <div class="modal-header">
            <div class="modal-icon" id="vote-modal-icon">ğŸ—³ï¸</div>
            <h2 class="modal-title" id="vote-modal-title">íˆ¬í‘œí•˜ê¸°</h2>
        </div>
        <div class="form-group">
            <label for="voter-name">ì´ë¦„ (ë‹‰ë„¤ì„)</label>
            <input type="text" id="voter-name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" maxlength="20">
        </div>
        <div class="form-group">
            <label>í”„ë¡œí•„ ì•„ì´ì½˜ ì„ íƒ</label>
            <div class="avatar-picker" id="avatar-picker">
                <button type="button" class="avatar-btn selected" data-avatar="ğŸ˜€">ğŸ˜€</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ˜">ğŸ˜</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ¤“">ğŸ¤“</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ˜Š">ğŸ˜Š</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ¥³">ğŸ¥³</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ˜‡">ğŸ˜‡</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ¤—">ğŸ¤—</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ§‘â€ğŸ’»">ğŸ§‘â€ğŸ’»</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ‘¨â€ğŸ¨">ğŸ‘¨â€ğŸ¨</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ‘©â€ğŸš€">ğŸ‘©â€ğŸš€</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ¦Š">ğŸ¦Š</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ»">ğŸ»</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ°">ğŸ°</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ¦">ğŸ¦</button>
                <button type="button" class="avatar-btn" data-avatar="ğŸ¸">ğŸ¸</button>
            </div>
        </div>
        <div class="form-group">
            <label for="voter-comment">í•œë§ˆë”” (ì„ íƒ)</label>
            <textarea id="voter-comment" placeholder="ì™œ ì´ ì„ íƒì„ í•˜ì…¨ë‚˜ìš”?" maxlength="100"></textarea>
        </div>
        <div class="modal-buttons">
            <button class="btn btn-cancel" id="vote-cancel">ì·¨ì†Œ</button>
            <button class="btn btn-submit" id="vote-submit">íˆ¬í‘œí•˜ê¸°</button>
        </div>
    </div>
</div>

<!-- New Vote Modal -->
<div class="modal-overlay" id="new-vote-modal-overlay">
    <div class="modal new-vote" id="new-vote-modal">
        <div class="modal-header">
            <div class="modal-icon">ğŸ—³ï¸</div>
            <h2 class="modal-title">ì‹ ê·œ íˆ¬í‘œ ë§Œë“¤ê¸°</h2>
        </div>
        <div class="form-group">
            <label for="vote-question">ì§ˆë¬¸</label>
            <input type="text" id="vote-question" placeholder="ì˜ˆ: ë‹¹ì‹ ì€ ì–´ë””ë¥¼ ì¢‹ì•„í•©ë‹ˆê¹Œ?" maxlength="50">
        </div>
        <div class="form-row">
            <div class="form-group">
                <label for="option-a-name">ì„ íƒì§€ A</label>
                <input type="text" id="option-a-name" placeholder="ì˜ˆ: ë°”ë‹¤" maxlength="20">
            </div>
            <div class="form-group">
                <label for="option-b-name">ì„ íƒì§€ B</label>
                <input type="text" id="option-b-name" placeholder="ì˜ˆ: ì‚°" maxlength="20">
            </div>
        </div>
        <div class="form-group">
            <label>ì•„ì´ì½˜ ì„ íƒ (A / B)</label>
            <div class="form-row">
                <div class="emoji-picker" id="emoji-picker-a">
                    <button type="button" class="emoji-btn selected" data-emoji="ğŸ–ï¸">ğŸ–ï¸</button>
                    <button type="button" class="emoji-btn" data-emoji="ğŸŒŠ">ğŸŒŠ</button>
                    <button type="button" class="emoji-btn" data-emoji="ğŸœ">ğŸœ</button>
                    <button type="button" class="emoji-btn" data-emoji="â˜•">â˜•</button>
                    <button type="button" class="emoji-btn" data-emoji="ğŸ¶">ğŸ¶</button>
                    <button type="button" class="emoji-btn" data-emoji="ğŸ•">ğŸ•</button>
                </div>
                <div class="emoji-picker" id="emoji-picker-b">
                    <button type="button" class="emoji-btn selected" data-emoji="â›°ï¸">â›°ï¸</button>
                    <button type="button" class="emoji-btn" data-emoji="ğŸ”ï¸">ğŸ”ï¸</button>
                    <button type="button" class="emoji-btn" data-emoji="ğŸ²">ğŸ²</button>
                    <button type="button" class="emoji-btn" data-emoji="ğŸµ">ğŸµ</button>
                    <button type="button" class="emoji-btn" data-emoji="ğŸ±">ğŸ±</button>
                    <button type="button" class="emoji-btn" data-emoji="ğŸ”">ğŸ”</button>
                </div>
            </div>
        </div>
        <div class="modal-buttons">
            <button class="btn btn-cancel" id="new-vote-cancel">ì·¨ì†Œ</button>
            <button class="btn btn-submit" id="new-vote-submit">ë§Œë“¤ê¸°</button>
        </div>
    </div>
</div>

<script>
    // ============================================
    // Vote System App with Likes & Ratings
    // ============================================
    class VoteApp {
        constructor() {
            this.polls = [];
            this.currentPollId = null;
            this.currentVoteOption = null;
            this.selectedEmojiA = 'ğŸ–ï¸';
            this.selectedEmojiB = 'â›°ï¸';
            this.selectedAvatar = 'ğŸ˜€';
            
            this.loadData();
            this.bindEvents();
            this.render();
            
            if (this.polls.length === 0) {
                this.createDefaultPolls();
            }
        }

        createDefaultPolls() {
            const defaultPolls = [
                {
                    id: Date.now(),
                    question: 'ì§œì¥ë©´ vs ì§¬ë½•',
                    optionA: { name: 'ì§œì¥ë©´', icon: 'ğŸœ' },
                    optionB: { name: 'ì§¬ë½•', icon: 'ğŸ²' },
                    votes: [
                        { id: 1, option: 'a', name: 'ë§›ì§‘íƒí—˜ê°€', avatar: 'ğŸ˜', comment: 'ì—­ì‹œ ì§œì¥ë©´ì´ ìµœê³ !', timestamp: Date.now() - 3600000, likes: 5, ratings: [5, 4, 5] },
                        { id: 2, option: 'b', name: 'ë§¤ìš´ë§›ë§ˆë‹ˆì•„', avatar: 'ğŸ”¥', comment: 'ì–¼í°í•œ ì§¬ë½•ì´ ì§„ë¦¬', timestamp: Date.now() - 7200000, likes: 3, ratings: [4, 5] },
                        { id: 3, option: 'a', name: 'ê²€ì€ì½©ì‚¬ë‘', avatar: 'ğŸ»', comment: 'ì¶˜ì¥ì˜ ê³ ì†Œí•¨~', timestamp: Date.now() - 10800000, likes: 2, ratings: [5] }
                    ],
                    createdAt: Date.now()
                },
                {
                    id: Date.now() + 1,
                    question: 'ë‹¹ì‹ ì€ ì–´ë””ë¥¼ ì¢‹ì•„í•©ë‹ˆê¹Œ?',
                    optionA: { name: 'ë°”ë‹¤', icon: 'ğŸ–ï¸' },
                    optionB: { name: 'ì‚°', icon: 'â›°ï¸' },
                    votes: [],
                    createdAt: Date.now() + 1
                }
            ];
            
            this.polls = defaultPolls;
            this.currentPollId = defaultPolls[0].id;
            this.saveData();
            this.render();
        }

        loadData() {
            try {
                const saved = localStorage.getItem('voteAppDataV2');
                if (saved) {
                    const data = JSON.parse(saved);
                    this.polls = data.polls || [];
                    this.currentPollId = data.currentPollId || null;
                }
            } catch (e) {
                console.error('ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', e);
            }
        }

        saveData() {
            try {
                localStorage.setItem('voteAppDataV2', JSON.stringify({
                    polls: this.polls,
                    currentPollId: this.currentPollId
                }));
            } catch (e) {
                console.error('ë°ì´í„° ì €ì¥ ì‹¤íŒ¨:', e);
            }
        }

        bindEvents() {
            // ì‹ ê·œ íˆ¬í‘œ ë²„íŠ¼
            document.getElementById('btn-new-vote').addEventListener('click', () => {
                this.openNewVoteModal();
            });

            // ì‹ ê·œ íˆ¬í‘œ ëª¨ë‹¬
            document.getElementById('new-vote-cancel').addEventListener('click', () => {
                this.closeNewVoteModal();
            });
            
            document.getElementById('new-vote-submit').addEventListener('click', () => {
                this.createNewPoll();
            });
            
            document.getElementById('new-vote-modal-overlay').addEventListener('click', (e) => {
                if (e.target.id === 'new-vote-modal-overlay') this.closeNewVoteModal();
            });

            // ì´ëª¨ì§€ ì„ íƒ
            document.getElementById('emoji-picker-a').addEventListener('click', (e) => {
                if (e.target.classList.contains('emoji-btn')) {
                    document.querySelectorAll('#emoji-picker-a .emoji-btn').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    this.selectedEmojiA = e.target.dataset.emoji;
                }
            });
            
            document.getElementById('emoji-picker-b').addEventListener('click', (e) => {
                if (e.target.classList.contains('emoji-btn')) {
                    document.querySelectorAll('#emoji-picker-b .emoji-btn').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    this.selectedEmojiB = e.target.dataset.emoji;
                }
            });

            // ì•„ë°”íƒ€ ì„ íƒ
            document.getElementById('avatar-picker').addEventListener('click', (e) => {
                if (e.target.classList.contains('avatar-btn')) {
                    document.querySelectorAll('#avatar-picker .avatar-btn').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    this.selectedAvatar = e.target.dataset.avatar;
                }
            });

            // íˆ¬í‘œ ëª¨ë‹¬
            document.getElementById('vote-cancel').addEventListener('click', () => {
                this.closeVoteModal();
            });
            
            document.getElementById('vote-submit').addEventListener('click', () => {
                this.submitVote();
            });
            
            document.getElementById('vote-modal-overlay').addEventListener('click', (e) => {
                if (e.target.id === 'vote-modal-overlay') this.closeVoteModal();
            });

            document.getElementById('voter-name').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') this.submitVote();
            });

            // ëª¨ë°”ì¼ í† ê¸€
            document.getElementById('mobile-toggle').addEventListener('click', () => {
                document.getElementById('sidebar').classList.toggle('open');
                document.getElementById('sidebar-backdrop').classList.toggle('open');
            });

            document.getElementById('sidebar-backdrop').addEventListener('click', () => {
                document.getElementById('sidebar').classList.remove('open');
                document.getElementById('sidebar-backdrop').classList.remove('open');
            });
        }

        render() {
            this.renderPollList();
            this.renderMainContent();
        }

        renderPollList() {
            const container = document.getElementById('vote-list');
            
            if (this.polls.length === 0) {
                container.innerHTML = `
                    <div class="empty-list">
                        <div class="empty-list-icon">ğŸ“­</div>
                        <p>ì•„ì§ íˆ¬í‘œê°€ ì—†ìŠµë‹ˆë‹¤.<br>ì²« ë²ˆì§¸ íˆ¬í‘œë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”!</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = this.polls.map(poll => {
                const votesA = poll.votes.filter(v => v.option === 'a').length;
                const votesB = poll.votes.filter(v => v.option === 'b').length;
                const total = votesA + votesB;
                const isActive = poll.id === this.currentPollId;
                
                return `
                    <div class="vote-list-item ${isActive ? 'active' : ''}" data-poll-id="${poll.id}">
                        <div class="vote-list-title">${this.escapeHtml(poll.question)}</div>
                        <div class="vote-list-options">
                            <span>${poll.optionA.icon} ${this.escapeHtml(poll.optionA.name)}</span>
                            <span>${poll.optionB.icon} ${this.escapeHtml(poll.optionB.name)}</span>
                        </div>
                        <div class="vote-list-stats">
                            <span>ì´ ${total}í‘œ</span>
                            <span>${this.formatDate(poll.createdAt)}</span>
                        </div>
                    </div>
                `;
            }).join('');

            container.querySelectorAll('.vote-list-item').forEach(item => {
                item.addEventListener('click', () => {
                    this.selectPoll(parseInt(item.dataset.pollId));
                });
            });
        }

        renderMainContent() {
            const container = document.getElementById('main-content');
            const poll = this.polls.find(p => p.id === this.currentPollId);

            if (!poll) {
                container.innerHTML = `
                    <div class="welcome-screen">
                        <div class="welcome-icon">ğŸ—³ï¸</div>
                        <h2 class="welcome-title">Choice Vote</h2>
                        <p class="welcome-text">ì¢Œì¸¡ ëª©ë¡ì—ì„œ íˆ¬í‘œë¥¼ ì„ íƒí•˜ê±°ë‚˜<br>ìƒˆë¡œìš´ íˆ¬í‘œë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”!</p>
                        <button class="btn-new-vote" onclick="voteApp.openNewVoteModal()">
                            <span>â•</span> ì‹ ê·œ íˆ¬í‘œ ë§Œë“¤ê¸°
                        </button>
                    </div>
                `;
                return;
            }

            const votesA = poll.votes.filter(v => v.option === 'a');
            const votesB = poll.votes.filter(v => v.option === 'b');
            const total = votesA.length + votesB.length;
            const percentA = total > 0 ? Math.round((votesA.length / total) * 100) : 50;
            const percentB = total > 0 ? 100 - percentA : 50;

            container.innerHTML = `
                <div class="content-wrapper">
                    <header class="vote-header">
                        <h1 class="vote-question">${this.escapeHtml(poll.question)}</h1>
                        <p class="vote-date">ìƒì„±ì¼: ${this.formatDateFull(poll.createdAt)}</p>
                    </header>

                    <div class="vote-cards-wrapper">
                        <section class="vote-cards">
                            <div class="vote-card option-a" data-option="a">
                                <span class="vote-card-icon">${poll.optionA.icon}</span>
                                <h2 class="vote-card-title">${this.escapeHtml(poll.optionA.name)}</h2>
                                <div class="vote-card-count">${votesA.length}</div>
                                <div class="vote-card-percent">${percentA}%</div>
                                <div class="vote-card-hint">ğŸ‘† í„°ì¹˜í•˜ì—¬ íˆ¬í‘œ</div>
                            </div>
                            <div class="vote-card option-b" data-option="b">
                                <span class="vote-card-icon">${poll.optionB.icon}</span>
                                <h2 class="vote-card-title">${this.escapeHtml(poll.optionB.name)}</h2>
                                <div class="vote-card-count">${votesB.length}</div>
                                <div class="vote-card-percent">${percentB}%</div>
                                <div class="vote-card-hint">ğŸ‘† í„°ì¹˜í•˜ì—¬ íˆ¬í‘œ</div>
                            </div>
                        </section>
                        <div class="vs-badge">VS</div>
                    </div>

                    <section class="progress-section">
                        <div class="progress-bar">
                            <div class="progress-fill option-a" style="width: ${percentA}%;">
                                ${percentA >= 15 ? poll.optionA.name + ' ' + percentA + '%' : ''}
                            </div>
                            <div class="progress-fill option-b" style="width: ${percentB}%;">
                                ${percentB >= 15 ? poll.optionB.name + ' ' + percentB + '%' : ''}
                            </div>
                        </div>
                        <div class="total-votes">ì´ <strong>${total}</strong>í‘œ</div>
                    </section>

                    <section class="comments-section">
                        <div class="comments-column option-a">
                            <div class="comments-header">
                                <span class="comments-header-icon">${poll.optionA.icon}</span>
                                <span class="comments-header-title">${this.escapeHtml(poll.optionA.name)} ì˜ê²¬</span>
                                <span class="comments-header-count">${votesA.length}ëª…</span>
                            </div>
                            <div class="comments-list">
                                ${this.renderComments(votesA, 'a')}
                            </div>
                        </div>
                        <div class="comments-column option-b">
                            <div class="comments-header">
                                <span class="comments-header-icon">${poll.optionB.icon}</span>
                                <span class="comments-header-title">${this.escapeHtml(poll.optionB.name)} ì˜ê²¬</span>
                                <span class="comments-header-count">${votesB.length}ëª…</span>
                            </div>
                            <div class="comments-list">
                                ${this.renderComments(votesB, 'b')}
                            </div>
                        </div>
                    </section>

                    <div style="margin-top: 30px; text-align: center;">
                        <button class="btn btn-delete" onclick="voteApp.deletePoll(${poll.id})" style="padding: 12px 30px;">
                            ğŸ—‘ï¸ ì´ íˆ¬í‘œ ì‚­ì œ
                        </button>
                    </div>
                </div>
            `;

            // íˆ¬í‘œ ì¹´ë“œ í´ë¦­
            container.querySelectorAll('.vote-card').forEach(card => {
                card.addEventListener('click', () => {
                    this.openVoteModal(card.dataset.option);
                });
            });

            // ì¢‹ì•„ìš” ë²„íŠ¼ í´ë¦­
            container.querySelectorAll('.like-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.toggleLike(parseInt(btn.dataset.voteId));
                    btn.classList.add('animate');
                    setTimeout(() => btn.classList.remove('animate'), 300);
                });
            });

            // ë³„ì  í´ë¦­
            container.querySelectorAll('.star-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.addRating(parseInt(btn.dataset.voteId), parseInt(btn.dataset.star));
                    btn.classList.add('animate');
                    setTimeout(() => btn.classList.remove('animate'), 200);
                });
            });
        }

        renderComments(votes, option) {
            if (votes.length === 0) {
                return '<div class="empty-comments">ì•„ì§ ì˜ê²¬ì´ ì—†ìŠµë‹ˆë‹¤</div>';
            }

            return votes.map(v => {
                const avgRating = v.ratings && v.ratings.length > 0 
                    ? (v.ratings.reduce((a, b) => a + b, 0) / v.ratings.length).toFixed(1)
                    : null;
                
                return `
                    <div class="comment-item">
                        <div class="comment-header">
                            <div class="comment-avatar">
                                ${v.profileImage 
                                    ? `<img src="${v.profileImage}" alt="í”„ë¡œí•„">` 
                                    : (v.avatar || 'ğŸ˜€')}
                            </div>
                            <div class="comment-info">
                                <div class="comment-name">${this.escapeHtml(v.name)}</div>
                                <div class="comment-date">${this.formatDate(v.timestamp)}</div>
                            </div>
                        </div>
                        <div class="comment-text">${this.escapeHtml(v.comment || '(ì½”ë©˜íŠ¸ ì—†ìŒ)')}</div>
                        <div class="comment-actions">
                            <button class="like-btn ${v.liked ? 'liked' : ''}" data-vote-id="${v.id}">
                                <span class="like-icon">${v.liked ? 'â¤ï¸' : 'ğŸ¤'}</span>
                                <span class="like-count">${v.likes || 0}</span>
                            </button>
                            <div class="rating-section">
                                <span class="rating-label">í‰ê°€:</span>
                                <div class="star-rating">
                                    ${[1,2,3,4,5].map(star => `
                                        <button class="star-btn ${avgRating && star <= Math.round(avgRating) ? 'filled' : ''}" 
                                                data-vote-id="${v.id}" 
                                                data-star="${star}">â˜…</button>
                                    `).join('')}
                                </div>
                                ${avgRating ? `<span class="avg-rating">${avgRating}</span>` : ''}
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        toggleLike(voteId) {
            const poll = this.polls.find(p => p.id === this.currentPollId);
            if (!poll) return;

            const vote = poll.votes.find(v => v.id === voteId);
            if (!vote) return;

            if (!vote.likes) vote.likes = 0;
            
            if (vote.liked) {
                vote.likes--;
                vote.liked = false;
            } else {
                vote.likes++;
                vote.liked = true;
            }

            this.saveData();
            this.render();
        }

        addRating(voteId, star) {
            const poll = this.polls.find(p => p.id === this.currentPollId);
            if (!poll) return;

            const vote = poll.votes.find(v => v.id === voteId);
            if (!vote) return;

            if (!vote.ratings) vote.ratings = [];
            vote.ratings.push(star);

            this.saveData();
            this.render();
        }

        selectPoll(pollId) {
            this.currentPollId = pollId;
            this.saveData();
            this.render();
            
            document.getElementById('sidebar').classList.remove('open');
            document.getElementById('sidebar-backdrop').classList.remove('open');
        }

        openNewVoteModal() {
            document.getElementById('vote-question').value = '';
            document.getElementById('option-a-name').value = '';
            document.getElementById('option-b-name').value = '';
            document.getElementById('new-vote-modal-overlay').classList.add('active');
            setTimeout(() => document.getElementById('vote-question').focus(), 100);
        }

        closeNewVoteModal() {
            document.getElementById('new-vote-modal-overlay').classList.remove('active');
        }

        createNewPoll() {
            const question = document.getElementById('vote-question').value.trim();
            const optionAName = document.getElementById('option-a-name').value.trim();
            const optionBName = document.getElementById('option-b-name').value.trim();

            if (!question) {
                alert('ì§ˆë¬¸ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }
            if (!optionAName || !optionBName) {
                alert('ë‘ ê°€ì§€ ì„ íƒì§€ë¥¼ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            const newPoll = {
                id: Date.now(),
                question: question,
                optionA: { name: optionAName, icon: this.selectedEmojiA },
                optionB: { name: optionBName, icon: this.selectedEmojiB },
                votes: [],
                createdAt: Date.now()
            };

            this.polls.unshift(newPoll);
            this.currentPollId = newPoll.id;
            this.saveData();
            this.closeNewVoteModal();
            this.render();
        }

        deletePoll(pollId) {
            if (!confirm('ì •ë§ ì´ íˆ¬í‘œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) return;
            
            this.polls = this.polls.filter(p => p.id !== pollId);
            this.currentPollId = this.polls.length > 0 ? this.polls[0].id : null;
            this.saveData();
            this.render();
        }

        openVoteModal(option) {
            const poll = this.polls.find(p => p.id === this.currentPollId);
            if (!poll) return;

            this.currentVoteOption = option;
            const modal = document.getElementById('vote-modal');
            const optionData = option === 'a' ? poll.optionA : poll.optionB;
            
            modal.className = 'modal option-' + option;
            document.getElementById('vote-modal-icon').textContent = optionData.icon;
            document.getElementById('vote-modal-title').textContent = optionData.name + 'ì— íˆ¬í‘œ';
            document.getElementById('voter-name').value = '';
            document.getElementById('voter-comment').value = '';
            
            // ì•„ë°”íƒ€ ì„ íƒ ì´ˆê¸°í™”
            document.querySelectorAll('#avatar-picker .avatar-btn').forEach(btn => btn.classList.remove('selected'));
            document.querySelector('#avatar-picker .avatar-btn').classList.add('selected');
            this.selectedAvatar = 'ğŸ˜€';
            
            document.getElementById('vote-modal-overlay').classList.add('active');
            setTimeout(() => document.getElementById('voter-name').focus(), 100);
        }

        closeVoteModal() {
            document.getElementById('vote-modal-overlay').classList.remove('active');
            this.currentVoteOption = null;
        }

        submitVote() {
            const name = document.getElementById('voter-name').value.trim();
            const comment = document.getElementById('voter-comment').value.trim();

            if (!name) {
                alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            const poll = this.polls.find(p => p.id === this.currentPollId);
            if (!poll || !this.currentVoteOption) return;

            poll.votes.unshift({
                id: Date.now(),
                option: this.currentVoteOption,
                name: name,
                avatar: this.selectedAvatar,
                profileImage: null, // í–¥í›„ í”„ë¡œí•„ ì´ë¯¸ì§€ URL
                comment: comment,
                timestamp: Date.now(),
                likes: 0,
                liked: false,
                ratings: []
            });

            this.saveData();
            this.closeVoteModal();
            this.render();
        }

        formatDate(timestamp) {
            const date = new Date(timestamp);
            const now = new Date();
            const diff = now - date;

            if (diff < 60000) return 'ë°©ê¸ˆ ì „';
            if (diff < 3600000) return Math.floor(diff / 60000) + 'ë¶„ ì „';
            if (diff < 86400000) return Math.floor(diff / 3600000) + 'ì‹œê°„ ì „';
            return (date.getMonth() + 1) + '/' + date.getDate();
        }

        formatDateFull(timestamp) {
            const date = new Date(timestamp);
            return `${date.getFullYear()}. ${date.getMonth() + 1}. ${date.getDate()}`;
        }

        escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    }

    // ì•± ì´ˆê¸°í™”
    let voteApp;
    document.addEventListener('DOMContentLoaded', () => {
        voteApp = new VoteApp();
    });
</script>
```

</body>
</html>