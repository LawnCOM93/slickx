<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê°€ë²½ ì œì‘ ê³„ì‚°ê¸° | Partition Wall Calculator</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=IBM+Plex+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --wood-dark: #2c1810;
            --wood-medium: #8b5a3c;
            --wood-light: #c4956c;
            --cream: #faf6f0;
            --paper: #f5ede1;
            --accent-blue: #2d5f7f;
            --accent-orange: #d97642;
            --bright-green: #4ade80;
            --bright-red: #f87171;
            --stud-green: #22c55e;
            --shadow: rgba(44, 24, 16, 0.1);
            --shadow-heavy: rgba(44, 24, 16, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'IBM Plex Mono', monospace;
            background: linear-gradient(135deg, var(--paper) 0%, var(--cream) 100%);
            color: var(--wood-dark);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1.5rem;
            position: relative;
            overflow-x: hidden;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 0.75rem;
                align-items: flex-start;
                padding-top: 1rem;
            }
            
            input[type="number"] {
                padding: 0.75rem 0.875rem;
                padding-right: 3rem;
                font-size: 1rem;
            }
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                repeating-linear-gradient(
                    0deg,
                    transparent,
                    transparent 2px,
                    rgba(139, 90, 60, 0.02) 2px,
                    rgba(139, 90, 60, 0.02) 4px
                );
            pointer-events: none;
            z-index: 1;
        }

        .container {
            max-width: 1400px;
            width: 100%;
            position: relative;
            z-index: 2;
            animation: fadeInUp 0.8s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        @media (max-width: 768px) {
            header {
                margin-bottom: 1rem;
            }
        }

        h1 {
            font-family: 'Syne', sans-serif;
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 800;
            color: var(--wood-dark);
            letter-spacing: -0.02em;
            margin-bottom: 0.5rem;
            position: relative;
            display: inline-block;
        }
        
        @media (max-width: 768px) {
            h1 {
                font-size: 1.75rem;
            }
        }

        h1::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-orange), var(--stud-green));
            border-radius: 2px;
            animation: expandWidth 0.6s ease-out 0.3s both;
        }

        @keyframes expandWidth {
            from {
                width: 0;
            }
            to {
                width: 100%;
            }
        }

        .subtitle {
            font-size: 0.9rem;
            color: var(--wood-medium);
            font-weight: 300;
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        .main-content {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .main-content .card:nth-child(3) {
            grid-column: 1 / -1; /* 3ë²ˆì§¸ ì¹´ë“œëŠ” ì „ì²´ ë„ˆë¹„ ì‚¬ìš© */
        }

        @media (max-width: 968px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .main-content .card:nth-child(3) {
                grid-column: 1;
            }
        }

        .card {
            background: white;
            border-radius: 16px;
            padding: 1.75rem;
            box-shadow: 
                0 4px 6px var(--shadow),
                0 12px 24px var(--shadow-heavy);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: cardSlideIn 0.6s ease-out both;
        }
        
        @media (max-width: 768px) {
            .card {
                padding: 1.25rem;
                border-radius: 12px;
            }
        }

        .card:nth-child(1) { animation-delay: 0.1s; }
        .card:nth-child(2) { animation-delay: 0.2s; }
        .card:nth-child(3) { animation-delay: 0.3s; }

        @keyframes cardSlideIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 
                0 8px 12px var(--shadow),
                0 16px 32px var(--shadow-heavy);
        }

        .card-title {
            font-family: 'Syne', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--wood-dark);
            margin-bottom: 1.25rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-title::before {
            content: '';
            width: 4px;
            height: 24px;
            background: var(--accent-orange);
            border-radius: 2px;
        }

        .input-group {
            margin-bottom: 1.25rem;
        }

        label {
            display: block;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--wood-medium);
            margin-bottom: 0.5rem;
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }

        .input-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .input-wrapper {
            position: relative;
        }

        input[type="number"] {
            width: 100%;
            padding: 0.875rem 1rem;
            padding-right: 3rem;
            border: 2px solid var(--paper);
            border-radius: 8px;
            font-family: 'IBM Plex Mono', monospace;
            font-size: 1.125rem;
            font-weight: 500;
            color: var(--wood-dark);
            background: var(--cream);
            transition: all 0.3s ease;
            outline: none;
        }
        
        input[type="number"].price-input {
            color: var(--accent-blue);
            font-weight: 600;
        }

        input[type="number"]:focus {
            border-color: var(--stud-green);
            background: white;
            box-shadow: 0 0 0 4px rgba(34, 197, 94, 0.1);
        }
        
        input[type="number"].price-input:focus {
            border-color: var(--bright-red);
            box-shadow: 0 0 0 4px rgba(248, 113, 113, 0.1);
        }

        .unit {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 0.875rem;
            color: var(--wood-medium);
            font-weight: 400;
            pointer-events: none;
        }

        .dimension-label {
            font-size: 0.75rem;
            color: var(--wood-medium);
            margin-bottom: 0.5rem;
        }

        .result-card {
            background: white;
            border-radius: 16px;
            padding: 2rem;
            box-shadow: 
                0 4px 6px var(--shadow),
                0 12px 24px var(--shadow-heavy);
            animation: cardSlideIn 0.6s ease-out 0.4s both;
            border: 2px solid var(--paper);
            margin-bottom: 1.5rem;
        }

        .result-summary {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        @media (max-width: 768px) {
            .result-summary {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
        }

        .summary-item {
            text-align: center;
            padding: 1.5rem;
            background: linear-gradient(135deg, var(--cream), var(--paper));
            border-radius: 12px;
            border: 2px solid var(--paper);
            transition: transform 0.3s ease;
        }

        .summary-item:hover {
            transform: translateY(-4px);
        }

        .summary-value {
            font-family: 'Syne', sans-serif;
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--accent-orange), var(--wood-dark));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .summary-value.green {
            background: linear-gradient(135deg, var(--stud-green), #16a34a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .summary-label {
            font-size: 0.85rem;
            color: var(--wood-medium);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 600;
        }

        .visualization-container {
            background: var(--cream);
            border-radius: 12px;
            padding: 2rem;
            margin-top: 2rem;
        }

        .viz-title {
            font-family: 'Syne', sans-serif;
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--wood-dark);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .wall-canvas {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px var(--shadow);
            overflow-x: auto;
            padding: 3rem 2rem 2rem 2rem;
        }

        .wall-visualization {
            position: relative;
            margin: 0 auto;
            border: 3px solid var(--wood-dark);
            border-radius: 4px;
        }

        .plywood-panel {
            position: absolute;
            background: linear-gradient(135deg, var(--wood-light), var(--wood-medium));
            border-right: 3px solid var(--wood-dark);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Syne', sans-serif;
            font-weight: 700;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }

        .plywood-panel:last-child {
            border-right: none;
        }

        .plywood-panel:hover {
            background: linear-gradient(135deg, #d4a574, #9d6843);
            transform: scale(1.02);
            z-index: 10;
        }

        .stud-line {
            position: absolute;
            z-index: 5;
            transition: all 0.3s ease;
        }

        .dimension-marker {
            position: absolute;
            font-size: 0.7rem;
            color: var(--wood-medium);
            font-weight: 600;
        }

        .legend {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 0.75rem;
            margin-top: 1.5rem;
            padding: 1.25rem;
            background: var(--cream);
            border-radius: 8px;
            border-left: 4px solid var(--wood-medium);
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            font-size: 0.85rem;
            color: var(--wood-dark);
            font-weight: 500;
        }

        .legend-color {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            box-shadow: 0 2px 4px var(--shadow);
            flex-shrink: 0;
        }

        .material-list {
            background: white;
            border-radius: 16px;
            padding: 1.75rem;
            box-shadow: 
                0 4px 6px var(--shadow),
                0 12px 24px var(--shadow-heavy);
            animation: cardSlideIn 0.6s ease-out 0.5s both;
        }

        .material-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            margin-bottom: 0.75rem;
            background: var(--cream);
            border-radius: 8px;
            border-left: 4px solid var(--accent-orange);
            transition: all 0.3s ease;
        }

        .material-item:hover {
            background: white;
            transform: translateX(4px);
        }

        .material-item.stud {
            border-left-color: var(--stud-green);
        }

        .material-name {
            font-weight: 600;
            color: var(--wood-dark);
        }

        .material-spec {
            font-size: 0.85rem;
            color: var(--wood-medium);
            margin-top: 0.25rem;
        }

        .material-quantity {
            font-family: 'Syne', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-blue);
        }

        footer {
            text-align: center;
            margin-top: 2rem;
            padding: 1rem;
            color: var(--wood-medium);
            font-size: 0.85rem;
        }

        @media (max-width: 768px) {
            .wall-canvas {
                padding: 2.5rem 1rem 1rem 1rem;
            }
            
            .legend {
                padding: 1rem;
                gap: 0.65rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ê°€ë²½ ì œì‘ ê³„ì‚°ê¸°</h1>
            <p class="subtitle">Partition Wall Calculator</p>
        </header>

        <div class="main-content">
            <!-- ë²½ ì‚¬ì´ì¦ˆ ì…ë ¥ -->
            <div class="card">
                <h2 class="card-title">ë²½ ì‚¬ì´ì¦ˆ</h2>
                <div class="input-group">
                    <label>ì „ì²´ ë²½ í¬ê¸°</label>
                    <div class="input-row">
                        <div>
                            <div class="dimension-label">ê°€ë¡œ (Width)</div>
                            <div class="input-wrapper">
                                <input type="number" id="wallWidth" value="3000" min="100" onfocus="this.select()" oninput="calculate()">
                                <span class="unit">mm</span>
                            </div>
                        </div>
                        <div>
                            <div class="dimension-label">ì„¸ë¡œ (Height)</div>
                            <div class="input-wrapper">
                                <input type="number" id="wallHeight" value="2500" min="100" onfocus="this.select()" oninput="calculate()">
                                <span class="unit">mm</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ê°ì¬ ê·œê²© -->
            <div class="card">
                <h2 class="card-title">ê°ì¬(ë‹¤ë£¨ë¼) ê·œê²©</h2>
                <div class="input-group">
                    <label>ê°ì¬ ì‚¬ì´ì¦ˆ</label>
                    <div class="input-row">
                        <div>
                            <div class="dimension-label">ë‹¨ë©´ (mm)</div>
                            <div class="input-wrapper">
                                <input type="number" id="studSize" value="19" min="1" onfocus="this.select()" oninput="calculate()">
                                <span class="unit">mm</span>
                            </div>
                        </div>
                        <div>
                            <div class="dimension-label">ê¸¸ì´ (mm)</div>
                            <div class="input-wrapper">
                                <input type="number" id="studLength" value="3600" min="100" onfocus="this.select()" oninput="calculate()">
                                <span class="unit">mm</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="input-group">
                    <label>ê°ì¬ ê°„ê²©</label>
                    <div class="input-wrapper">
                        <input type="number" id="studSpacing" value="300" min="50" onfocus="this.select()" oninput="calculate()">
                        <span class="unit">mm</span>
                    </div>
                </div>
            </div>

            <!-- í•©íŒ ê·œê²© -->
            <div class="card">
                <h2 class="card-title">í•©íŒ ê·œê²©</h2>
                <div class="input-group">
                    <label>í•©íŒ 1ì¥ í¬ê¸°</label>
                    <div class="input-row">
                        <div>
                            <div class="dimension-label">ê°€ë¡œ (Width)</div>
                            <div class="input-wrapper">
                                <input type="number" id="plywoodWidth" value="1220" min="100" onfocus="this.select()" oninput="calculate()">
                                <span class="unit">mm</span>
                            </div>
                        </div>
                        <div>
                            <div class="dimension-label">ì„¸ë¡œ (Height)</div>
                            <div class="input-wrapper">
                                <input type="number" id="plywoodHeight" value="2440" min="100" onfocus="this.select()" oninput="calculate()">
                                <span class="unit">mm</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- êµ¬ë§¤ ì •ë³´ -->
            <div class="card">
                <h2 class="card-title">êµ¬ë§¤ ì •ë³´</h2>
                <div class="input-group">
                    <label>ê°ì¬ êµ¬ë§¤ ê¸°ì¤€</label>
                    <div class="input-row">
                        <div>
                            <div class="dimension-label">1ë‹¨ ê¸°ì¤€ ê°ì¬ ê°œìˆ˜</div>
                            <div class="input-wrapper">
                                <input type="number" id="studPerBundle" value="12" min="1" onfocus="this.select()" oninput="calculate()">
                                <span class="unit">ê°œ</span>
                            </div>
                        </div>
                        <div>
                            <div class="dimension-label">êµ¬ë§¤ ë‹¨ìˆ˜ (ìë™ê³„ì‚°)</div>
                            <div class="input-wrapper" style="position: relative;">
                                <input type="number" id="studBundles" value="1" min="1" readonly style="background: #f5f5f5; cursor: not-allowed;">
                                <span class="unit">ë‹¨</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="input-group">
                    <label>ê°€ê²© ì •ë³´</label>
                    <div class="input-row">
                        <div>
                            <div class="dimension-label">ê°ì¬ 1ë‹¨ ê¸°ì¤€ ê°€ê²©</div>
                            <div class="input-wrapper">
                                <input type="number" id="studBundlePrice" class="price-input" value="12000" min="0" onfocus="this.select()" oninput="calculate()">
                                <span class="unit" style="color: var(--accent-blue);">ì›</span>
                            </div>
                        </div>
                        <div>
                            <div class="dimension-label">í•©íŒ 1ì¥ ê¸°ì¤€ ê°€ê²©</div>
                            <div class="input-wrapper">
                                <input type="number" id="plywoodPrice" class="price-input" value="25000" min="0" onfocus="this.select()" oninput="calculate()">
                                <span class="unit" style="color: var(--accent-blue);">ì›</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- êµ¬ë§¤ ì •ë³´ ìš”ì•½ -->
                <div style="background: linear-gradient(135deg, var(--cream), var(--paper)); padding: 1rem; border-radius: 8px; margin-top: 1rem; border: 2px solid var(--paper);">
                    <div style="display: grid; gap: 0.75rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: white; border-radius: 6px;">
                            <span style="font-size: 0.85rem; font-weight: 600; color: var(--wood-medium);">í•„ìš”í•œ ê°ì¬</span>
                            <span id="requiredStuds" style="font-family: 'Syne', sans-serif; font-size: 1.1rem; font-weight: 700; color: var(--accent-blue);">10ê°œ</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: white; border-radius: 6px;">
                            <span style="font-size: 0.85rem; font-weight: 600; color: var(--wood-medium);">ìµœì¢… ê°ì¬ êµ¬ë§¤</span>
                            <span id="totalStudPurchase" style="font-family: 'Syne', sans-serif; font-size: 1.1rem; font-weight: 700; color: var(--accent-blue);">12ê°œ</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: white; border-radius: 6px;">
                            <span style="font-size: 0.85rem; font-weight: 600; color: var(--wood-medium);">êµ¬ë§¤ í•©íŒ ì¥ìˆ˜</span>
                            <span id="plywoodCount" style="font-family: 'Syne', sans-serif; font-size: 1.1rem; font-weight: 700; color: var(--accent-blue);">1ì¥</span>
                        </div>                        
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: white; border-radius: 6px;">
                            <span style="font-size: 0.85rem; font-weight: 600; color: var(--wood-medium);">ê°ì¬ ì´ê¸ˆì•¡</span>
                            <span id="totalStudCost" style="font-family: 'Syne', sans-serif; font-size: 1.1rem; font-weight: 700; color: var(--bright-red);">12,000ì›</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.5rem; background: white; border-radius: 6px;">
                            <span style="font-size: 0.85rem; font-weight: 600; color: var(--wood-medium);">í•©íŒ ì´ê¸ˆì•¡</span>
                            <span id="totalPlywoodCost" style="font-family: 'Syne', sans-serif; font-size: 1.1rem; font-weight: 700; color: var(--bright-red);">0ì›</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 0.75rem; background: linear-gradient(135deg, var(--wood-dark), var(--wood-medium)); border-radius: 6px; margin-top: 0.5rem;">
                            <span style="font-size: 0.95rem; font-weight: 700; color: white;">ìµœì¢… í•©ê³„ ê¸ˆì•¡</span>
                            <span id="totalCost" style="font-family: 'Syne', sans-serif; font-size: 1.3rem; font-weight: 800; color: var(--bright-green);">12,000ì›</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ê²°ê³¼ ìš”ì•½ -->
        <div id="resultCard" class="result-card">
            <div class="result-summary">

                <div class="summary-item">
                    <div id="studCount"></div>
                    
                </div>
            </div>

            <!-- ì‹œê°í™” -->
            <div class="visualization-container">
                <div class="viz-title">ğŸ—ï¸ ê°€ë²½ êµ¬ì¡° ì‹œê°í™”</div>
                <div class="wall-canvas">
                    <div id="wallVisualization"></div>
                    
                    <div class="legend">
                        <div style="font-family: 'Syne', sans-serif; font-weight: 700; font-size: 0.9rem; color: var(--wood-dark); margin-bottom: 0.25rem;">
                            ğŸ¨ êµ¬ì„± ìš”ì†Œ
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: linear-gradient(135deg, var(--wood-light), var(--wood-medium));"></div>
                            <span>ë©”ì¸ í•©íŒ</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: linear-gradient(135deg, #ef4444, #dc2626);"></div>
                            <span>ìƒë‹¨ ì¡°ê° í•©íŒ</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background: linear-gradient(90deg, #22c55e, #3b82f6, #f59e0b, #ec4899, #8b5cf6, #14b8a6);"></div>
                            <span>ê°ì¬ (ë‹¤ë£¨ë¼) - ìƒ‰ìƒë³„ êµ¬ë¶„</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ìì¬ ëª©ë¡ -->
        <div class="material-list">
            <h2 class="card-title">í•„ìš” ìì¬ ëª©ë¡</h2>
            <div class="material-item">
                <div>
                    <div class="material-name">í•©íŒ</div>
                    <div class="material-spec" id="plywoodSpec">1220 Ã— 2440mm</div>
                </div>
                <div class="material-quantity" id="plywoodQty">0ì¥</div>
            </div>
            <div class="material-item stud">
                <div>
                    <div class="material-name">ê°ì¬ (ë‹¤ë£¨ë¼)</div>
                    <div class="material-spec" id="studSpec">19 Ã— 19 Ã— 3600mm</div>
                </div>
                <div class="material-quantity" id="studQty">0ê°œ</div>
            </div>
        </div>

        <!-- ë²½ë©´ ì»¤ë²„ìœ¨
        <!-- <div class="result-card">
            <div class="result-summary" style="display: flex; justify-content: center;">
                <div class="summary-item">
                    <div class="summary-value" id="coveragePercent">0%</div>
                    <div class="summary-label">ë²½ë©´ ì»¤ë²„ìœ¨</div>
                </div>
            </div>
        </div> --> -->

        <!-- ê³„ì‚°ì‹ ìƒì„¸ -->
        <div class="result-card">
            <div class="visualization-container" style="margin-bottom: 0;">
                <div class="viz-title">ğŸ“ ê³„ì‚°ì‹ ìƒì„¸</div>
                <div id="calculationDetail" style="background: white; padding: 1.5rem; border-radius: 8px; font-family: 'IBM Plex Mono', monospace; font-size: 0.9rem; line-height: 1.8; color: var(--wood-dark);"></div>
            </div>
        </div>

        <footer>
            Design inspired by modern carpentry & precision engineering
        </footer>
    </div>

    <script>
        function calculate() {
            // ì…ë ¥ê°’ ê°€ì ¸ì˜¤ê¸°
            const wallW = parseFloat(document.getElementById('wallWidth').value);
            const wallH = parseFloat(document.getElementById('wallHeight').value);
            const plyW = parseFloat(document.getElementById('plywoodWidth').value);
            const plyH = parseFloat(document.getElementById('plywoodHeight').value);
            const studSize = parseFloat(document.getElementById('studSize').value);
            const studLength = parseFloat(document.getElementById('studLength').value);
            const studSpacing = parseFloat(document.getElementById('studSpacing').value);
            
            // êµ¬ë§¤ ì •ë³´
            const studPerBundle = parseInt(document.getElementById('studPerBundle').value) || 12;
            const studBundlePrice = parseFloat(document.getElementById('studBundlePrice').value) || 0;
            const plywoodPrice = parseFloat(document.getElementById('plywoodPrice').value) || 0;

            // ìœ íš¨ì„± ê²€ì‚¬
            if (wallW <= 0 || wallH <= 0 || plyW <= 0 || plyH <= 0 || studSpacing <= 0) {
                return;
            }

            // í•©íŒ ìˆ˜ëŸ‰ ê³„ì‚° (ê°€ë¡œ ë°©í–¥ìœ¼ë¡œ ë°°ì¹˜)
            const plywoodCount = Math.ceil(wallW / plyW);

            // ê°ì¬ ìˆ˜ëŸ‰ ê³„ì‚° (ê°ì¬ ë‘ê»˜ í¬í•¨)
            let studCount = 1; // ì²« ê°ì¬
            let currentPos = 0;
            while (true) {
                currentPos = currentPos + studSize + studSpacing;
                if (currentPos <= wallW) {
                    studCount++;
                } else {
                    break;
                }
            }

            // ì»¤ë²„ìœ¨ ê³„ì‚°
            const actualCoverage = (plywoodCount * plyW);
            // const coveragePercent = Math.min(100, (actualCoverage / wallW * 100)).toFixed(1);

            // ë†’ì´ ê³„ì‚°
            const needTopStrip = wallH > plyH;
            const topStripHeight = needTopStrip ? wallH - plyH : 0;

            // êµ¬ë§¤ ë‹¨ìˆ˜ ìë™ ê³„ì‚° (í•„ìš”í•œ ê°ì¬ / 1ë‹¨ ê¸°ì¤€ ê°œìˆ˜, ì˜¬ë¦¼)
            const studBundles = Math.ceil(studCount / studPerBundle);
            
            // êµ¬ë§¤ ì •ë³´ ê³„ì‚°
            const totalStudPurchase = studBundles * studPerBundle; // ìµœì¢… ê°ì¬ êµ¬ë§¤ ê°œìˆ˜
            const totalStudCost = studBundles * studBundlePrice; // ê°ì¬ ì´ê¸ˆì•¡
            const totalPlywoodCost = plywoodCount * plywoodPrice; // í•©íŒ ì´ê¸ˆì•¡
            const totalCost = totalStudCost + totalPlywoodCost; // ìµœì¢… í•©ê³„

            // ê²°ê³¼ í‘œì‹œ
            document.getElementById('plywoodCount').textContent = plywoodCount + 'ì¥';
            document.getElementById('studCount').textContent = studCount + 'ê°œ';
            // document.getElementById('coveragePercent').textContent = coveragePercent + '%';

            document.getElementById('plywoodQty').textContent = plywoodCount + 'ì¥';
            document.getElementById('studQty').textContent = studCount + 'ê°œ';

            // êµ¬ë§¤ ë‹¨ìˆ˜ í‘œì‹œ (readonly í•„ë“œ ì—…ë°ì´íŠ¸)
            document.getElementById('studBundles').value = studBundles;

            // êµ¬ë§¤ ì •ë³´ í‘œì‹œ
            document.getElementById('requiredStuds').textContent = studCount.toLocaleString() + 'ê°œ';
            document.getElementById('totalStudPurchase').textContent = totalStudPurchase.toLocaleString() + 'ê°œ';
            document.getElementById('totalStudCost').textContent = totalStudCost.toLocaleString() + 'ì›';
            document.getElementById('totalPlywoodCost').textContent = totalPlywoodCost.toLocaleString() + 'ì›';
            document.getElementById('totalCost').textContent = totalCost.toLocaleString() + 'ì›';

            // ìì¬ ìŠ¤í™ í‘œì‹œ
            document.getElementById('plywoodSpec').textContent = `${plyW} Ã— ${plyH}mm`;
            document.getElementById('studSpec').textContent = `${studSize} Ã— ${studSize} Ã— ${studLength}mm`;

            // ê³„ì‚°ì‹ ìƒì„¸ í‘œì‹œ
            displayCalculationDetail(wallW, wallH, plyW, plyH, plywoodCount, studSpacing, studCount, needTopStrip, topStripHeight, studSize);

            // ì‹œê°í™”
            visualizeWall(wallW, wallH, plyW, plyH, plywoodCount, studSpacing, studCount, studSize);
        }

        function displayCalculationDetail(wallW, wallH, plyW, plyH, plywoodCount, studSpacing, studCount, needTopStrip, topStripHeight, studSize) {
            const detail = document.getElementById('calculationDetail');
            
            let html = '<div style="display: grid; gap: 1.5rem;">';
            
            // 1. í•©íŒ ê°€ë¡œ ìˆ˜ëŸ‰
            html += `
                <div>
                    <div style="color: var(--accent-orange); font-weight: 700; margin-bottom: 0.5rem;">â‘  í•©íŒ ìˆ˜ëŸ‰ ê³„ì‚° (ê°€ë¡œ)</div>
                    <div style="background: var(--cream); padding: 1rem; border-radius: 6px; border-left: 4px solid var(--accent-orange);">
                        ë²½ ê°€ë¡œ: <strong>${wallW}mm</strong><br>
                        í•©íŒ ê°€ë¡œ: <strong>${plyW}mm</strong><br>
                        <br>
                        í•„ìš” ìˆ˜ëŸ‰ = âŒˆ ${wallW} Ã· ${plyW} âŒ‰ = âŒˆ ${(wallW / plyW).toFixed(3)} âŒ‰ = <strong style="color: var(--accent-orange);">${plywoodCount}ì¥</strong>
                    </div>
            `;
            
            // í•©íŒ ë°°ì¹˜ ìƒì„¸
            html += '<div style="margin-top: 0.5rem; padding-left: 1rem; font-size: 0.85rem; color: var(--wood-medium);">';
            for (let i = 0; i < plywoodCount; i++) {
                const start = i * plyW;
                const end = Math.min((i + 1) * plyW, wallW);
                const actualWidth = end - start;
                html += `Â· í•©íŒ #${i + 1}: ${start}mm ~ ${end}mm `;
                if (actualWidth < plyW) {
                    html += `(<strong>${actualWidth}mmë§Œ ì‚¬ìš©</strong>)`;
                } else {
                    html += `(ì „ì²´ ì‚¬ìš©)`;
                }
                html += '<br>';
            }
            html += '</div></div>';
            
            // 2. ë†’ì´ ì²˜ë¦¬
            html += `
                <div>
                    <div style="color: var(--accent-blue); font-weight: 700; margin-bottom: 0.5rem;">â‘¡ ë†’ì´ ì²˜ë¦¬</div>
                    <div style="background: var(--cream); padding: 1rem; border-radius: 6px; border-left: 4px solid var(--accent-blue);">
                        ë²½ ë†’ì´: <strong>${wallH}mm</strong><br>
                        í•©íŒ ë†’ì´: <strong>${plyH}mm</strong><br>
            `;
            
            if (needTopStrip) {
                html += `<br>
                        ë¶€ì¡± ë†’ì´: ${wallH} - ${plyH} = <strong style="color: var(--bright-red);">${topStripHeight}mm</strong><br>
                        <br>
                        <div style="background: rgba(248, 113, 113, 0.1); padding: 0.5rem; border-radius: 4px; margin-top: 0.5rem;">
                        âš ï¸ ìƒë‹¨ì— <strong>${topStripHeight}mm ë†’ì´ì˜ ì¡°ê° í•©íŒ</strong>ì´ í•„ìš”í•©ë‹ˆë‹¤!<br>
                        Â· ë©”ì¸ í•©íŒ: 0mm ~ ${plyH}mm (${plywoodCount}ì¥)<br>
                        Â· ìƒë‹¨ ì¡°ê°: ${plyH}mm ~ ${wallH}mm (${plywoodCount}ì¥)
                        </div>
                `;
            } else {
                html += `<br>
                        âœ“ í•©íŒ ë†’ì´ê°€ ì¶©ë¶„í•©ë‹ˆë‹¤ (ì—¬ìœ : ${plyH - wallH}mm)
                `;
            }
            
            html += `
                    </div>
                </div>
            `;
            
            // 3. ê°ì¬ ìˆ˜ëŸ‰
            html += `
                <div>
                    <div style="color: var(--stud-green); font-weight: 700; margin-bottom: 0.5rem;">â‘¢ ê°ì¬(ë‹¤ë£¨ë¼) ìˆ˜ëŸ‰</div>
                    <div style="background: var(--cream); padding: 1rem; border-radius: 6px; border-left: 4px solid var(--stud-green);">
                        ë²½ ê°€ë¡œ: <strong>${wallW}mm</strong><br>
                        ê°ì¬ ê°„ê²©: <strong>${studSpacing}mm</strong><br>
                        ê°ì¬ ë‘ê»˜: <strong>${studSize}mm</strong><br>
                        <br>
                        í•„ìš” ìˆ˜ëŸ‰ = âŒŠ ${wallW} Ã· ${studSpacing} âŒ‹ + 1 = ${Math.floor(wallW / studSpacing)} + 1 = <strong style="color: var(--stud-green);">${studCount}ê°œ</strong>
                    </div>
            `;
            
            // ê°ì¬ ìœ„ì¹˜ ìƒì„¸
            html += '<div style="margin-top: 0.5rem; padding-left: 1rem; font-size: 0.85rem; color: var(--wood-medium);">';
            html += '<strong>ê°ì¬ ìœ„ì¹˜ ê³„ì‚° (ì™¼ìª½ 0mm ê¸°ì¤€, ê°ì¬ ë‘ê»˜ í¬í•¨):</strong><br>';
            html += '<div style="font-family: \'IBM Plex Mono\', monospace; line-height: 1.8; margin-top: 0.5rem;">';
            
            for (let i = 0; i < studCount && i < 5; i++) { // ì²˜ìŒ 5ê°œë§Œ í‘œì‹œ
                const pos = i * studSpacing + i * studSize;
                if (pos <= wallW) {
                    if (i === 0) {
                        html += `Â· ê°ì¬${i + 1}: <strong>0mm</strong> (ì‹œì‘ì )<br>`;
                    } else {
                        const spacingPart = `${studSpacing}mmÃ—${i}`;
                        const studPart = `${studSize}mmÃ—${i}`;
                        const spacingTotal = i * studSpacing;
                        const studTotal = i * studSize;
                        html += `Â· ê°ì¬${i + 1}: ${spacingPart} + ${studPart} = ${spacingTotal}mm + ${studTotal}mm = <strong>${pos}mm</strong><br>`;
                    }
                }
            }
            
            if (studCount > 5) {
                html += `<span style="color: var(--accent-blue);">... (í•˜ë‹¨ ëª©ë¡ì—ì„œ ì „ì²´ í™•ì¸)</span><br>`;
            }
            
            html += '</div></div></div>';
            
            html += '</div>';
            
            detail.innerHTML = html;
        }

        function visualizeWall(wallW, wallH, plyW, plyH, plywoodCount, studSpacing, studCount, studSize) {
            const container = document.getElementById('wallVisualization');
            container.innerHTML = '';

            // ê°ì¬ ìƒ‰ìƒ íŒ”ë ˆíŠ¸ (êµ¬ë¶„í•˜ê¸° ì‰¬ìš´ ë‹¤ì–‘í•œ ìƒ‰ìƒ)
            const studColors = [
                '#22c55e', // ë…¹ìƒ‰
                '#3b82f6', // íŒŒë€ìƒ‰
                '#f59e0b', // ì£¼í™©ìƒ‰
                '#ec4899', // í•‘í¬ìƒ‰
                '#8b5cf6', // ë³´ë¼ìƒ‰
                '#14b8a6', // ì²­ë¡ìƒ‰
                '#f97316', // ì§„í•œ ì£¼í™©
                '#06b6d4', // í•˜ëŠ˜ìƒ‰
                '#84cc16', // ë¼ì„ìƒ‰
                '#6366f1', // ì¸ë””ê³ 
                '#ef4444', // ë¹¨ê°•
                '#10b981', // ì—ë©”ë„ë“œ
            ];

            // ë°˜ì‘í˜• ìŠ¤ì¼€ì¼ ê³„ì‚°
            const maxWidth = Math.min(window.innerWidth - 100, 1200);
            const maxHeight = 400;
            const scale = Math.min(maxWidth / wallW, maxHeight / wallH);

            const visualW = wallW * scale;
            const visualH = wallH * scale;

            // ë²½ ì»¨í…Œì´ë„ˆ ìƒì„±
            const wall = document.createElement('div');
            wall.className = 'wall-visualization';
            wall.style.width = visualW + 'px';
            wall.style.height = visualH + 'px';
            wall.style.position = 'relative';

            // ë†’ì´ ë¶€ì¡± ì—¬ë¶€ í™•ì¸
            const needTopStrip = wallH > plyH;
            const topStripHeight = needTopStrip ? wallH - plyH : 0;
            const mainPanelHeight = needTopStrip ? plyH : wallH;

            // ë©”ì¸ í•©íŒ íŒ¨ë„ ì¶”ê°€
            for (let i = 0; i < plywoodCount; i++) {
                const panel = document.createElement('div');
                panel.className = 'plywood-panel';
                
                const left = i * plyW * scale;
                const width = Math.min(plyW * scale, visualW - left);
                const height = (mainPanelHeight / wallH) * visualH;
                
                panel.style.left = left + 'px';
                panel.style.top = (topStripHeight * scale) + 'px';
                panel.style.width = width + 'px';
                panel.style.height = height + 'px';
                
                // íŒ¨ë„ ë²ˆí˜¸ í‘œì‹œ
                const label = document.createElement('div');
                label.style.fontSize = Math.max(12, visualW / 30) + 'px';
                label.textContent = `í•©íŒ #${i + 1}`;
                panel.appendChild(label);
                
                // í¬ê¸° ì •ë³´
                const sizeLabel = document.createElement('div');
                sizeLabel.style.fontSize = Math.max(10, visualW / 40) + 'px';
                sizeLabel.style.marginTop = '0.25rem';
                sizeLabel.style.opacity = '0.8';
                
                // ë§ˆì§€ë§‰ íŒ¨ë„ì´ê³  ì˜ë¦° ê²½ìš°
                if (i === plywoodCount - 1 && (i + 1) * plyW > wallW) {
                    const cutWidth = wallW - (i * plyW);
                    sizeLabel.textContent = `${cutWidth}Ã—${Math.floor(mainPanelHeight)}mm`;
                } else {
                    sizeLabel.textContent = `${plyW}Ã—${Math.floor(mainPanelHeight)}mm`;
                }
                panel.appendChild(sizeLabel);
                
                wall.appendChild(panel);
            }

            // ìƒë‹¨ ì¡°ê° í•©íŒ ì¶”ê°€
            if (needTopStrip) {
                // êµ¬ë¶„ì„  ì¶”ê°€
                const dividerLine = document.createElement('div');
                dividerLine.style.position = 'absolute';
                dividerLine.style.left = '0';
                dividerLine.style.top = (topStripHeight * scale) + 'px';
                dividerLine.style.width = visualW + 'px';
                dividerLine.style.height = '2px';
                dividerLine.style.background = 'var(--wood-dark)';
                dividerLine.style.zIndex = '3';
                dividerLine.style.boxShadow = '0 2px 4px rgba(0,0,0,0.2)';
                wall.appendChild(dividerLine);

                for (let i = 0; i < plywoodCount; i++) {
                    const topPanel = document.createElement('div');
                    topPanel.className = 'plywood-panel';
                    topPanel.style.background = 'linear-gradient(135deg, #ef4444, #dc2626)';
                    
                    const left = i * plyW * scale;
                    const width = Math.min(plyW * scale, visualW - left);
                    const height = (topStripHeight / wallH) * visualH;
                    
                    topPanel.style.left = left + 'px';
                    topPanel.style.top = '0';
                    topPanel.style.width = width + 'px';
                    topPanel.style.height = height + 'px';
                    
                    // ìƒë‹¨ íŒ¨ë„ ë²ˆí˜¸
                    const label = document.createElement('div');
                    label.style.fontSize = Math.max(10, visualW / 40) + 'px';
                    label.textContent = `#${i + 1}-A`;
                    topPanel.appendChild(label);
                    
                    // í¬ê¸° ì •ë³´
                    const sizeLabel = document.createElement('div');
                    sizeLabel.style.fontSize = Math.max(8, visualW / 50) + 'px';
                    sizeLabel.style.marginTop = '0.15rem';
                    sizeLabel.style.opacity = '0.8';
                    
                    if (i === plywoodCount - 1 && (i + 1) * plyW > wallW) {
                        const cutWidth = wallW - (i * plyW);
                        sizeLabel.textContent = `${cutWidth}Ã—${topStripHeight}mm`;
                    } else {
                        sizeLabel.textContent = `${plyW}Ã—${topStripHeight}mm`;
                    }
                    topPanel.appendChild(sizeLabel);
                    
                    wall.appendChild(topPanel);
                }
            }

            // ê°ì¬ ë¼ì¸ ì¶”ê°€
            const studDistances = []; // ê°ì¬ ê±°ë¦¬ ì •ë³´ ì €ì¥
            for (let i = 0; i < studCount; i++) {
                // ì‹¤ì œ ê°ì¬ ìœ„ì¹˜ = (ê°„ê²© Ã— ê°œìˆ˜) + (ê°ì¬ë‘ê»˜ Ã— ê°œìˆ˜)
                const studPos = i * studSpacing + i * studSize;
                
                // ìƒ‰ìƒ ì„ íƒ (ìˆœí™˜)
                const studColor = studColors[i % studColors.length];
                
                if (studPos <= wallW) {
                    const stud = document.createElement('div');
                    stud.className = 'stud-line';
                    stud.style.left = (studPos * scale) + 'px';
                    stud.style.top = '0';
                    stud.style.width = Math.max(2, studSize * scale) + 'px';
                    stud.style.height = visualH + 'px';
                    stud.style.background = studColor; // ê³ ìœ  ìƒ‰ìƒ ì ìš©
                    stud.style.boxShadow = `0 0 8px ${studColor}80`; // ê·¸ë¦¼ìë„ ê°™ì€ ìƒ‰
                    stud.style.transition = 'all 0.3s ease';
                    
                    // íˆ´íŒ
                    stud.title = `ê°ì¬${i + 1}: ${studPos}mm`;
                    
                    // í˜¸ë²„ íš¨ê³¼
                    stud.addEventListener('mouseenter', () => {
                        stud.style.boxShadow = `0 0 16px ${studColor}`;
                        stud.style.transform = 'scaleX(1.5)';
                    });
                    
                    stud.addEventListener('mouseleave', () => {
                        stud.style.boxShadow = `0 0 8px ${studColor}80`;
                        stud.style.transform = 'scaleX(1)';
                    });
                    
                    wall.appendChild(stud);
                    
                    // ê°„ë‹¨í•œ ë²ˆí˜¸ ë¼ë²¨ (ê°™ì€ ìƒ‰ìƒ)
                    const numberLabel = document.createElement('div');
                    numberLabel.style.position = 'absolute';
                    numberLabel.style.left = (studPos * scale) + 'px';
                    numberLabel.style.top = '-20px';
                    numberLabel.style.transform = 'translateX(-50%)';
                    numberLabel.style.fontSize = '0.7rem';
                    numberLabel.style.fontWeight = '700';
                    numberLabel.style.color = 'white';
                    numberLabel.style.background = studColor; // ê°ì¬ì™€ ê°™ì€ ìƒ‰
                    numberLabel.style.padding = '2px 8px';
                    numberLabel.style.borderRadius = '12px';
                    numberLabel.style.whiteSpace = 'nowrap';
                    numberLabel.style.zIndex = '10';
                    numberLabel.style.boxShadow = `0 2px 4px ${studColor}60`;
                    numberLabel.textContent = `${i + 1}`;
                    
                    wall.appendChild(numberLabel);
                    
                    // ê±°ë¦¬ ì •ë³´ ë° ê³„ì‚°ì‹ ì €ì¥
                    let formula = '';
                    if (i === 0) {
                        formula = '0mm (ì‹œì‘ì )';
                    } else {
                        const spacingTotal = i * studSpacing;
                        const studThicknessTotal = i * studSize;
                        formula = `${studSpacing}mmÃ—${i} + ${studSize}mmÃ—${i} = ${spacingTotal}mm + ${studThicknessTotal}mm`;
                    }
                    
                    studDistances.push({
                        number: i + 1,
                        distance: studPos,
                        formula: formula,
                        color: studColor // ìƒ‰ìƒ ì •ë³´ ì €ì¥
                    });
                }
            }

            // ì¹˜ìˆ˜ í‘œì‹œ (ìƒë‹¨)
            const topDim = document.createElement('div');
            topDim.className = 'dimension-marker';
            topDim.style.top = '-45px';
            topDim.style.left = '0';
            topDim.style.width = visualW + 'px';
            topDim.style.textAlign = 'center';
            topDim.style.fontWeight = '700';
            topDim.style.fontSize = '0.9rem';
            topDim.textContent = `ì „ì²´ ë„ˆë¹„: ${wallW}mm`;
            wall.appendChild(topDim);

            // ì¹˜ìˆ˜ í‘œì‹œ (ì™¼ìª½)
            const leftDim = document.createElement('div');
            leftDim.className = 'dimension-marker';
            leftDim.style.left = '-80px';
            leftDim.style.top = '50%';
            leftDim.style.transform = 'translateY(-50%)';
            leftDim.textContent = `ë†’ì´: ${wallH}mm`;
            wall.appendChild(leftDim);

            // ë†’ì´ êµ¬ì„± í‘œì‹œ (ì˜¤ë¥¸ìª½)
            if (needTopStrip) {
                const heightInfo = document.createElement('div');
                heightInfo.className = 'dimension-marker';
                heightInfo.style.right = '-120px';
                heightInfo.style.top = '10px';
                heightInfo.style.fontSize = '0.7rem';
                heightInfo.style.lineHeight = '1.6';
                heightInfo.innerHTML = `
                    ìƒë‹¨ ì¡°ê°: ${topStripHeight}mm<br>
                    ë©”ì¸ í•©íŒ: ${mainPanelHeight}mm
                `;
                wall.appendChild(heightInfo);
            }

            container.appendChild(wall);
            
            // ê°ì¬ ê±°ë¦¬ ëª©ë¡ ì¶”ê°€
            const studListContainer = document.createElement('div');
            studListContainer.style.marginTop = '1.5rem';
            studListContainer.style.padding = '1.5rem';
            studListContainer.style.background = 'linear-gradient(135deg, #fafafa, #f5f5f5)';
            studListContainer.style.borderRadius = '8px';
            studListContainer.style.border = '2px solid #e5e5e5';
            
            const studListTitle = document.createElement('div');
            studListTitle.style.fontFamily = "'Syne', sans-serif";
            studListTitle.style.fontSize = '1rem';
            studListTitle.style.fontWeight = '700';
            studListTitle.style.color = 'var(--wood-dark)';
            studListTitle.style.marginBottom = '1rem';
            studListTitle.style.display = 'flex';
            studListTitle.style.alignItems = 'center';
            studListTitle.style.gap = '0.5rem';
            studListTitle.innerHTML = 'ğŸ“ ê°ì¬ ìœ„ì¹˜ ìƒì„¸ (ì™¼ìª½ 0mm ê¸°ì¤€)';
            studListContainer.appendChild(studListTitle);
            
            const studListContent = document.createElement('div');
            studListContent.style.display = 'grid';
            studListContent.style.gridTemplateColumns = 'repeat(auto-fill, minmax(200px, 1fr))';
            studListContent.style.gap = '0.75rem';
            
            studDistances.forEach(stud => {
                const item = document.createElement('div');
                item.style.background = 'white';
                item.style.padding = '0.75rem 0.9rem';
                item.style.borderRadius = '6px';
                item.style.border = `2px solid ${stud.color}`;
                item.style.fontSize = '0.85rem';
                item.style.fontWeight = '600';
                item.style.color = 'var(--wood-dark)';
                item.style.transition = 'all 0.2s ease';
                item.style.cursor = 'default';
                
                item.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.3rem;">
                        <span style="color: ${stud.color}; font-size: 0.9rem;">ê°ì¬${stud.number}</span>
                        <span style="font-family: 'IBM Plex Mono', monospace; font-weight: 700; font-size: 1rem; color: var(--wood-dark);">${stud.distance}mm</span>
                    </div>
                    <div style="font-size: 0.7rem; color: var(--wood-medium); font-family: 'IBM Plex Mono', monospace; font-weight: 400;">
                        ${stud.formula}
                    </div>
                `;
                
                // í˜¸ë²„ íš¨ê³¼
                item.addEventListener('mouseenter', () => {
                    item.style.background = stud.color;
                    item.style.transform = 'translateY(-2px)';
                    item.style.boxShadow = `0 4px 8px ${stud.color}60`;
                    const allText = item.querySelectorAll('span, div');
                    allText.forEach(el => el.style.color = 'white');
                });
                
                item.addEventListener('mouseleave', () => {
                    item.style.background = 'white';
                    item.style.transform = 'translateY(0)';
                    item.style.boxShadow = 'none';
                    // ì›ë˜ ìƒ‰ìƒ ë³µì›
                    const spans = item.querySelectorAll('span');
                    if (spans[0]) spans[0].style.color = stud.color;
                    if (spans[1]) spans[1].style.color = 'var(--wood-dark)';
                    const divs = item.querySelectorAll('div');
                    if (divs[1]) divs[1].style.color = 'var(--wood-medium)';
                });
                
                studListContent.appendChild(item);
            });
            
            studListContainer.appendChild(studListContent);
            container.appendChild(studListContainer);
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸° ê³„ì‚°
        document.addEventListener('DOMContentLoaded', function() {
            calculate();
        });

        // ì°½ í¬ê¸° ë³€ê²½ ì‹œ ì¬ê³„ì‚°
        window.addEventListener('resize', function() {
            calculate();
        });
    </script>
</body>
</html>